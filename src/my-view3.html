<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/fullscreen-api/fullscreen-icon-button.html">

<dom-module id="my-view3">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
      .thumbnail {
        width: 200px;
      }
      div:-webkit-full-screen {
        width: 100% !important;
        height: 100% !important;
        background-size: contain;

      }
      div:-moz-full-screen {
        width: 100% !important;
        width: 100% !important;
        height: 100% !important;
        background-size: contain;
      }
      div:-ms-fullscreen {
        width: 100% !important;
        width: 100% !important;
        height: 100% !important;
        background-size: contain;
      }
      div:fullscreen {
        width: 100% !important;
        width: 100% !important;
        height: 100% !important;
        background-size: contain;
      }

      /* While in fullscreen, hide any children with class 'tohide' */
      :-webkit-full-screen .tohide {
        display: none;
      }
      :-moz-full-screen .tohide {
        display: none;
      }
      :-ms-fullscreen .tohide {
        display: none;
      }
      :fullscreen .tohide {
        display: none;
      }

      .hidden{
        display: none;
      }

      :fullscreen .hidden {
        display: block;
      }

      .imgWithButton {
         width: 300px;
         height: 300px;
         position: relative;
         background: black no-repeat;
         background-position: center;
         background-size: contain;
       }

       .imgWithButton:-webkit-full-screen, .imgWithButton:-moz-full-screen , .imgWithButton:-ms-fullscreen, .imgWithButton:full-screen , .imgWithButton:fullscreen  {
         width: 100%;
         height: 100%;
         background-size: contain;
       }

       .imgWithButton > fullscreen-icon-button {
         color: black;
         --paper-icon-button-ink-color: black;
         background-color: white;
         border-radius: 50%;
         position: absolute;
         right: 8px;
         bottom: 8px;
       }
    </style>

    <div id="coolThumbnail" class='imgWithButton' style$="background-image:{{_imageToBackground(selectedImage)}};"></div>


<fullscreen-icon-button
  fullscreen-available="{{fullscreenAvailable}}"
  target="[[coolThumbnail]]"
  title="fullscreen"
  fullscreen="{{isFullScreen}}"
  >
</fullscreen-icon-button>
        <div id="errorDiv" hidden$="[[fullscreenAvailable]]">
  Your browser does not support the HTML5 full screen API... :(
</div>



  </template>

  <script>
    Polymer({
      is: 'my-view3',
      properties:
      {
        selectedImage: {
          type: String,
          notify: true
        },
        isFullScreen: {
          type: Boolean,
          notify: true,
          observer: "_fullscreenChange"
        },


      },

      ready: function() {
        this.coolThumbnail = this.$.coolThumbnail
        console.log(this.$.coolThumbnail)
        target = document.querySelector("#coolThumbnail")
        console.log(target)
      },

      _imageToBackground: function(url) {
        output = "url('"+url+"');"
        console.log(output);
        return output;
      },


      _fullscreenChange: function() {
        console.log(this.isFullScreen)

      },
        // fullscreen: function() {
        //   this.set("isFullScreen",true);
        //   console.log(this.isFullScreen)
        //   this.$.coolimageDiv.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
        //   //this.$.coolimage.mozRequestFullScreen();
        // //  this.$.coolimage.msRequestFullscreen();
        // //  this.$.coolimage.requestFullscreen(); // standard
        //
        //   //hide thumbnail image
        //   //hide top bit
        //   //hide side bit
        // }



    });
  </script>
</dom-module>
